---
import Page from '@/layouts/Page.astro';
---

<Page
  title="Share your<br><em>transformation</em>"
  label="Submit"
  description="Submit your personal essay to Vox Mosaic Edition One. Theme: Transformation."
  currentPage="submit"
>
  <section class="content-section">
    <div class="content-inner">
      <div class="content-block">
        <p class="lead-text">
          We're seeking twenty essays that explore transformation in all its forms—the moments
          that break us open and remake us whole.
        </p>

        <div class="theme-highlight">
          <p class="theme-label">Edition One Theme</p>
          <h3 class="theme-name">Transformation</h3>
          <ul class="theme-list">
            <li>Identity shifts</li>
            <li>Life transitions</li>
            <li>Relationship changes</li>
            <li>Career pivots</li>
            <li>Geographic moves</li>
            <li>Internal awakenings</li>
          </ul>
        </div>
      </div>

      <div class="content-block">
        <h2 class="section-title">What we're looking for</h2>
        <ul class="requirements-list">
          <li>Personal essays between 1,500–4,000 words</li>
          <li>Work that explores the theme of transformation</li>
          <li>Previously unpublished pieces (including on personal blogs or newsletters)</li>
          <li>Essays that balance personal narrative with universal insight</li>
          <li>Writing that takes risks and trusts the reader</li>
        </ul>

        <div class="callout">
          <p>
            <strong>Note:</strong> We read every submission carefully. Quality matters more than credentials—we're looking for
            compelling voices, not impressive resumes.
          </p>
        </div>
      </div>

      <div class="content-block">
        <h2 class="section-title">Timeline</h2>
        <table class="timeline-table">
          <thead>
            <tr>
              <th>Phase</th>
              <th>Date</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Submissions open</td>
              <td>Now</td>
            </tr>
            <tr>
              <td>Submissions close</td>
              <td>March 31, 2026</td>
            </tr>
            <tr>
              <td>Decisions sent</td>
              <td>April 30, 2026</td>
            </tr>
            <tr>
              <td>Edition One launches</td>
              <td>June 2026</td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="content-block">
        <h2 class="section-title">Submit your essay</h2>

        <div class="tally-embed-container">
          <div class="tally-loading" id="tally-loading">
            <p>Loading submission form...</p>
          </div>
          <iframe
            data-tally-src="https://tally.so/embed/Ekdpzr?alignLeft=1&hideTitle=1&transparentBackground=1&dynamicHeight=1"
            loading="lazy"
            width="100%"
            height="500"
            frameborder="0"
            marginheight="0"
            marginwidth="0"
            title="Vox Mosaic Essay Submission Form"
            aria-label="Essay submission form for Edition One: Transformation"
          ></iframe>
          <noscript>
            <div class="tally-fallback">
              <p>JavaScript is required to load the form.</p>
              <a href="https://tally.so/r/Ekdpzr" target="_blank" rel="noopener" class="btn-primary">Open Form in New Tab</a>
            </div>
          </noscript>
        </div>

        <p class="form-fallback-text">
          Having trouble? <a href="https://tally.so/r/Ekdpzr" target="_blank" rel="noopener">Open form in new tab</a> or check our <a href="/faq">FAQ</a>.
        </p>
      </div>

      <div class="content-block">
        <h2 class="section-title">What contributors receive</h2>
        <div class="feature-grid">
          <div class="feature-item">
            <h3 class="feature-title">Featured author profile</h3>
            <p>A dedicated page showcasing your bio, photo, and links to your work.</p>
          </div>
          <div class="feature-item">
            <h3 class="feature-title">Cross-promotion</h3>
            <p>Promotion across our channels and from nineteen fellow contributors.</p>
          </div>
          <div class="feature-item">
            <h3 class="feature-title">Premium presentation</h3>
            <p>Your essay designed and presented as part of a curated collection.</p>
          </div>
          <div class="feature-item">
            <h3 class="feature-title">Rights retention</h3>
            <p>You keep all rights. After 30 days exclusivity, republish anywhere.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="page-cta">
    <div class="page-cta-inner">
      <h2 class="page-cta-title">Questions?</h2>
      <p class="page-cta-text">
        Read our FAQ for contributors or reach out directly.
      </p>
      <div class="page-cta-buttons">
        <a href="/author-faq" class="btn-primary">Contributor FAQ</a>
        <a href="/contact" class="btn-secondary">Contact Us</a>
      </div>
    </div>
  </section>

  <script>
    // Tally embed loader
    var d = document,
      w = "https://tally.so/widgets/embed.js",
      v = function () {
        if (typeof Tally !== "undefined") {
          Tally.loadEmbeds();
          // Hide loading state once Tally is ready
          var loading = d.getElementById("tally-loading");
          if (loading) loading.style.display = "none";
        } else {
          d.querySelectorAll("iframe[data-tally-src]:not([src])").forEach(
            function (e) {
              e.src = e.dataset.tallySrc;
            }
          );
        }
      };
    if (typeof Tally !== "undefined") {
      v();
    } else if (d.querySelector('script[src="' + w + '"]') == null) {
      var s = d.createElement("script");
      s.src = w;
      s.onload = v;
      s.onerror = function () {
        // Show fallback on error
        var loading = d.getElementById("tally-loading");
        if (loading) {
          loading.innerHTML =
            '<p>Form failed to load. <a href="https://tally.so/r/Ekdpzr" target="_blank" rel="noopener">Open form in new tab</a></p>';
        }
      };
      d.body.appendChild(s);
    }

    // Hide loading once iframe loads
    var iframe = d.querySelector('iframe[data-tally-src]');
    if (iframe) {
      iframe.addEventListener("load", function () {
        var loading = d.getElementById("tally-loading");
        if (loading) loading.style.display = "none";
      });
    }
  </script>
</Page>
