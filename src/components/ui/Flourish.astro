---
interface Props {
  variant?: 'divider' | 'corner' | 'ornament';
  className?: string;
}

const { variant = 'divider', className = '' } = Astro.props;
---

{variant === 'divider' && (
  <svg
    class={`flourish flourish-divider ${className}`}
    viewBox="0 0 240 24"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
    aria-hidden="true"
  >
    <g opacity="0.3">
      <!-- Center diamond -->
      <path d="M120 6 L126 12 L120 18 L114 12 Z" stroke="var(--wm-compass)" stroke-width="0.75" fill="none" />
      <circle cx="120" cy="12" r="1.5" fill="var(--wm-compass)" opacity="0.4" />

      <!-- Left flourish -->
      <line x1="108" y1="12" x2="60" y2="12" stroke="var(--wm-compass)" stroke-width="0.5" />
      <path d="M60 12 Q50 6, 40 12 Q50 18, 60 12" stroke="var(--wm-compass)" stroke-width="0.5" fill="none" />
      <path d="M40 12 Q32 8, 24 12" stroke="var(--wm-compass)" stroke-width="0.5" fill="none" />
      <circle cx="22" cy="12" r="1" fill="var(--wm-compass)" opacity="0.3" />

      <!-- Right flourish (mirror) -->
      <line x1="132" y1="12" x2="180" y2="12" stroke="var(--wm-compass)" stroke-width="0.5" />
      <path d="M180 12 Q190 6, 200 12 Q190 18, 180 12" stroke="var(--wm-compass)" stroke-width="0.5" fill="none" />
      <path d="M200 12 Q208 8, 216 12" stroke="var(--wm-compass)" stroke-width="0.5" fill="none" />
      <circle cx="218" cy="12" r="1" fill="var(--wm-compass)" opacity="0.3" />

      <!-- Small accent marks -->
      <line x1="80" y1="9" x2="84" y2="12" stroke="var(--wm-compass)" stroke-width="0.5" opacity="0.5" />
      <line x1="80" y1="15" x2="84" y2="12" stroke="var(--wm-compass)" stroke-width="0.5" opacity="0.5" />
      <line x1="160" y1="9" x2="156" y2="12" stroke="var(--wm-compass)" stroke-width="0.5" opacity="0.5" />
      <line x1="160" y1="15" x2="156" y2="12" stroke="var(--wm-compass)" stroke-width="0.5" opacity="0.5" />
    </g>
  </svg>
)}

{variant === 'corner' && (
  <svg
    class={`flourish flourish-corner ${className}`}
    viewBox="0 0 48 48"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
    aria-hidden="true"
  >
    <g opacity="0.25">
      <path d="M4 44 Q4 4, 44 4" stroke="var(--wm-compass)" stroke-width="0.75" fill="none" />
      <path d="M10 44 Q10 10, 44 10" stroke="var(--wm-compass)" stroke-width="0.5" fill="none" opacity="0.5" />
      <circle cx="4" cy="44" r="1.5" fill="var(--wm-compass)" opacity="0.4" />
      <circle cx="44" cy="4" r="1.5" fill="var(--wm-compass)" opacity="0.4" />
    </g>
  </svg>
)}

{variant === 'ornament' && (
  <svg
    class={`flourish flourish-ornament ${className}`}
    viewBox="0 0 60 60"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
    aria-hidden="true"
  >
    <g opacity="0.25">
      <!-- Compass rose / asterisk shape -->
      <circle cx="30" cy="30" r="12" stroke="var(--wm-compass)" stroke-width="0.75" fill="none" />
      <circle cx="30" cy="30" r="6" stroke="var(--wm-compass)" stroke-width="0.5" fill="none" opacity="0.5" />
      <circle cx="30" cy="30" r="1.5" fill="var(--wm-compass)" opacity="0.4" />
      <!-- Cardinal lines -->
      <line x1="30" y1="10" x2="30" y2="18" stroke="var(--wm-compass)" stroke-width="0.5" />
      <line x1="30" y1="42" x2="30" y2="50" stroke="var(--wm-compass)" stroke-width="0.5" />
      <line x1="10" y1="30" x2="18" y2="30" stroke="var(--wm-compass)" stroke-width="0.5" />
      <line x1="42" y1="30" x2="50" y2="30" stroke="var(--wm-compass)" stroke-width="0.5" />
      <!-- Diagonal lines -->
      <line x1="16" y1="16" x2="21" y2="21" stroke="var(--wm-compass)" stroke-width="0.4" opacity="0.5" />
      <line x1="39" y1="39" x2="44" y2="44" stroke="var(--wm-compass)" stroke-width="0.4" opacity="0.5" />
      <line x1="44" y1="16" x2="39" y2="21" stroke="var(--wm-compass)" stroke-width="0.4" opacity="0.5" />
      <line x1="16" y1="44" x2="21" y2="39" stroke="var(--wm-compass)" stroke-width="0.4" opacity="0.5" />
      <!-- Corner dots -->
      <circle cx="30" cy="8" r="1" fill="var(--wm-compass)" opacity="0.3" />
      <circle cx="30" cy="52" r="1" fill="var(--wm-compass)" opacity="0.3" />
      <circle cx="8" cy="30" r="1" fill="var(--wm-compass)" opacity="0.3" />
      <circle cx="52" cy="30" r="1" fill="var(--wm-compass)" opacity="0.3" />
    </g>
  </svg>
)}

<style>
  .flourish {
    display: block;
  }

  .flourish-divider {
    width: 200px;
    height: 20px;
    margin: 0 auto;
  }

  .flourish-corner {
    width: 36px;
    height: 36px;
  }

  .flourish-ornament {
    width: 48px;
    height: 48px;
    margin: 0 auto;
  }
</style>
